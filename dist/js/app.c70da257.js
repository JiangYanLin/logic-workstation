(function(){var t={6076:function(){},1926:function(t,e,i){"use strict";var n=i(8935),r=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{attrs:{id:"app"}},[i("nav",[i("router-link",{attrs:{to:"/"}},[t._v("逻辑公式化简与真值表")]),t._v(" | "),i("router-link",{attrs:{to:"/about"}},[t._v("使用说明")])],1),i("keep-alive",[i("router-view")],1)],1)},s=[],o=i(6076),l=i.n(o),a=l(),h=i(1001),c=(0,h.Z)(a,r,s,!1,null,null,null),u=c.exports,m=i(2809),d=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("div",[i("input",{directives:[{name:"model",rawName:"v-model.lazy",value:t.input,expression:"input",modifiers:{lazy:!0}}],attrs:{id:"formula_input",type:"text"},domProps:{value:t.input},on:{change:function(e){t.input=e.target.value}}}),i("button",{attrs:{id:"formula_submit"},on:{click:t.submitFormula}},[t._v("确定")])]),i("div",{attrs:{id:"formula_show"}},[i("div",[t._v("识别到公式："+t._s(t.wellFormedUtil.formulaString()))]),i("div",[t._v("最简合取式："+t._s(t.wellFormedUtil.simplifiedConjunctionString()))]),i("div",[t._v("最简析取式："+t._s(t.wellFormedUtil.simplifiedDisjunctionString()))])]),i("div",[t.wellFormedUtil.trueTableShowAble()?i("div",[i("div",[t._v("原始真值表")]),i("table",{staticClass:"true_table"},[t._l(t.wellFormedUtil.trueTable.head,(function(e){return i("th",[t._v(t._s(e))])})),t._l(t.wellFormedUtil.trueTable.body,(function(e){return i("tr",t._l(e,(function(e){return i("td",[t._v(t._s(e))])})),0)}))],2)]):i("div",[t._v(" 原始真值表过长，请参考以下简化的真值表： ")]),i("div",[i("div",[t._v("简化的真值表")]),i("table",{staticClass:"true_table"},[t._l(t.wellFormedUtil.simplifiedTrueTable.head,(function(e){return i("th",[t._v(" "+t._s(e)+" ")])})),t._l(t.wellFormedUtil.simplifiedTrueTable.body,(function(e){return i("tr",t._l(e,(function(e){return i("td",[t._v(" "+t._s(e)+" ")])})),0)}))],2)])])])},f=[],p=(i(1703),i(3796));class g{constructor(){(0,p.Z)(this,"stringIndexMap",new Map),(0,p.Z)(this,"stringArray",[])}get length(){return this.stringArray.length}push(t){if(this.stringIndexMap.has(t))return!1;let e=this.stringArray.push(t);return this.stringIndexMap.set(t,e-1),!0}pushAll(t){t.stringArray.forEach((t=>this.push(t)))}getIndexOf(t){return this.stringIndexMap.get(t)}getValueOf(t){return this.stringArray[t]}}class y{constructor(){(0,p.Z)(this,"date",{atomicPropositionOrder:void 0})}get atomicPropositionOrder(){return void 0!==this.date.atomicPropositionOrder?this.date.atomicPropositionOrder:this.date.atomicPropositionOrder=this.getDefaultAtomicPropositionOrder()}set atomicPropositionOrder(t){}inverse(){return new _(this).inward()}getDefaultAtomicPropositionOrder(){throw"need implementation"}inward(){throw"need implementation"}boolFunction(t){throw"need implementation"}toStringInside(t){throw"need implementation"}toString(){throw"need implementation"}}class w extends y{constructor(){if(super(),void 0!==w.instance)return w.instance}getDefaultAtomicPropositionOrder(){return new g}inverse(){return new v}inward(){return new w}boolFunction(t){return!0}toStringInside(t){return"true"}toString(){return"true"}}(0,p.Z)(w,"instance",new w);class v extends y{constructor(){if(super(),void 0!==v.instance)return v.instance}getDefaultAtomicPropositionOrder(){return new g}inverse(){return new w}inward(){return new v}boolFunction(t){return!1}toStringInside(t){return"false"}toString(){return"false"}}(0,p.Z)(v,"instance",new v);class b extends y{constructor(t){super(),this.name=t}getDefaultAtomicPropositionOrder(){let t=new g;return t.push(this.name),t}inward(){return this}boolFunction(t){return t.get(this.name)}toStringInside(t){return this.name}toString(){return this.name}}class _ extends y{constructor(t){super(),this.item=t}getDefaultAtomicPropositionOrder(){return this.item.atomicPropositionOrder}inverse(){return this.item.inward()}inward(){switch(this.item.constructor){case w:return new v;case v:return new w;case b:return this;case _:return this.item.item.inward();case j:return new S(...this.item.conjuncts.map((t=>t.inverse())));case S:return new j(...this.item.disjuncts.map((t=>t.inverse())));case k:return new S(new _(this.item.antecedent),this.item.consequent).inverse();case F:return new j(new k(this.item.condition1,this.item.condition2),new k(this.item.condition2,this.item.condition1)).inverse();default:throw"negation inward error"}}boolFunction(t){return!this.item.boolFunction(t)}toStringInside(t){return t instanceof _||this.item instanceof b?this.toString():`(${this.toString()})`}toString(){return`¬${this.item.toStringInside(this)}`}}class j extends y{constructor(...t){if(super(),t.length<2)throw"conjunction create error";this.conjuncts=t}getDefaultAtomicPropositionOrder(){let t=new g;return this.conjuncts.forEach((e=>{t.pushAll(e.atomicPropositionOrder)})),t}inward(){return new j(...this.conjuncts.map((t=>t.inward())))}boolFunction(t){return!this.conjuncts.some((e=>!e.boolFunction(t)))}toStringInside(t){return`(${this.toString()})`}toString(){return this.conjuncts.map((t=>t.toStringInside(this))).join("∧")}}class S extends y{constructor(...t){if(super(),t.length<2)throw"disjunction create error";this.disjuncts=t}getDefaultAtomicPropositionOrder(){let t=new g;return this.disjuncts.forEach((e=>{t.pushAll(e.atomicPropositionOrder)})),t}inward(){return new S(...this.disjuncts.map((t=>t.inward())))}boolFunction(t){return this.disjuncts.some((e=>e.boolFunction(t)))}toStringInside(t){return`(${this.toString()})`}toString(){return this.disjuncts.map((t=>t.toStringInside(this))).join("∨")}}class k extends y{constructor(t,e){super(),this.antecedent=t,this.consequent=e}getDefaultAtomicPropositionOrder(){let t=new g;return t.pushAll(this.antecedent.atomicPropositionOrder),t.pushAll(this.consequent.atomicPropositionOrder),t}inward(){return new k(this.antecedent.inward(),this.consequent.inward())}boolFunction(t){return!this.antecedent.boolFunction(t)||this.consequent.boolFunction(t)}toStringInside(t){return`(${this.toString()})`}toString(){return`${this.antecedent.toStringInside(this)}→${this.consequent.toStringInside(this)}`}toDisjunction(){return new S(new _(this.antecedent),this.consequent)}}class F extends y{constructor(t,e){super(),this.condition1=t,this.condition2=e}getDefaultAtomicPropositionOrder(){let t=new g;return t.pushAll(this.condition1.atomicPropositionOrder),t.pushAll(this.condition2.atomicPropositionOrder),t}inward(){return new F(this.condition1.inward(),this.condition2.inward())}boolFunction(t){return this.condition1.boolFunction(t)===this.condition2.boolFunction(t)}toStringInside(t){return`(${this.toString()})`}toString(){return`${this.condition1.toStringInside(this)}↔${this.condition2.toStringInside(this)}`}toConjunction(){return new j(new k(this.condition1,this.condition2),new k(this.condition2,this.condition1))}}var O=function(){var t=function(t,e,i,n){for(i=i||{},n=t.length;n--;i[t[n]]=e);return i},e=[1,6],i=[1,7],n=[1,8],r=[1,4],s=[1,5],o=[1,9],l=[1,10],a=[1,11],h=[1,12],c=[1,9,10,11,12,14],u=[1,14],m={trace:function(){},yy:{},symbols_:{error:2,p:3,identifier:4,true:5,false:6,exp:7,"﹁":8,"→":9,"↔":10,"∨":11,"∧":12,"(":13,")":14,res:15,$accept:0,$end:1},terminals_:{2:"error",4:"identifier",5:"true",6:"false",8:"﹁",9:"→",10:"↔",11:"∨",12:"∧",13:"(",14:")"},productions_:[0,[3,1],[3,1],[3,1],[7,1],[7,2],[7,3],[7,3],[7,3],[7,3],[7,3],[15,1]],performAction:function(t,e,i,n,r,s,o){var l=s.length-1;switch(r){case 1:this.$=new b(s[l]);break;case 2:this.$=new w;break;case 3:this.$=new v;break;case 5:this.$=new _(s[l]);break;case 6:this.$=new k(s[l-2],s[l]);break;case 7:this.$=new F(s[l-2],s[l]);break;case 8:let t=[];s[l-2]instanceof S&&void 0===s[l-2].enclosed?s[l-2].disjuncts.forEach((e=>{t.push(e)})):t.push(s[l-2]),s[l]instanceof S&&void 0===s[l].enclosed?s[l].disjuncts.forEach((e=>{t.push(e)})):t.push(s[l]),this.$=new S(...t);break;case 9:let e=[];s[l-2]instanceof j&&void 0===s[l-2].enclosed?s[l-2].conjuncts.forEach((t=>{e.push(t)})):e.push(s[l-2]),s[l]instanceof j&&void 0===s[l].enclosed?s[l].conjuncts.forEach((t=>{e.push(t)})):e.push(s[l]),this.$=new j(...e);break;case 10:s[l-1].enclosed=!0,this.$=s[l-1];break;case 11:return this.$=s[l]}},table:[{3:3,4:e,5:i,6:n,7:2,8:r,13:s,15:1},{1:[3]},{1:[2,11],9:o,10:l,11:a,12:h},t(c,[2,4]),{3:3,4:e,5:i,6:n,7:13,8:r,13:s},{3:3,4:e,5:i,6:n,7:14,8:r,13:s},t(c,[2,1]),t(c,[2,2]),t(c,[2,3]),{3:3,4:e,5:i,6:n,7:15,8:r,13:s},{3:3,4:e,5:i,6:n,7:16,8:r,13:s},{3:3,4:e,5:i,6:n,7:17,8:r,13:s},{3:3,4:e,5:i,6:n,7:18,8:r,13:s},t(c,[2,5]),{9:o,10:l,11:a,12:h,14:[1,19]},t(u,[2,6],{11:a,12:h}),t(u,[2,7],{11:a,12:h}),t([1,9,10,11,14],[2,8],{12:h}),t(c,[2,9]),t(c,[2,10])],defaultActions:{},parseError:function(t,e){if(!e.recoverable){var i=new Error(t);throw i.hash=e,i}this.trace(t)},parse:function(t){var e=this,i=[0],n=[null],r=[],s=this.table,o="",l=0,a=0,h=0,c=2,u=1,m=r.slice.call(arguments,1),d=Object.create(this.lexer),f={yy:{}};for(var p in this.yy)Object.prototype.hasOwnProperty.call(this.yy,p)&&(f.yy[p]=this.yy[p]);d.setInput(t,f.yy),f.yy.lexer=d,f.yy.parser=this,"undefined"==typeof d.yylloc&&(d.yylloc={});var g=d.yylloc;r.push(g);var y=d.options&&d.options.ranges;"function"===typeof f.yy.parseError?this.parseError=f.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;var w,v,b,_,j,S,k,F,O,A=function(){var t;return t=d.lex()||u,"number"!==typeof t&&(t=e.symbols_[t]||t),t},x={};while(1){if(b=i[i.length-1],this.defaultActions[b]?_=this.defaultActions[b]:(null!==w&&"undefined"!=typeof w||(w=A()),_=s[b]&&s[b][w]),"undefined"===typeof _||!_.length||!_[0]){var P="";for(S in O=[],s[b])this.terminals_[S]&&S>c&&O.push("'"+this.terminals_[S]+"'");P=d.showPosition?"Parse error on line "+(l+1)+":\n"+d.showPosition()+"\nExpecting "+O.join(", ")+", got '"+(this.terminals_[w]||w)+"'":"Parse error on line "+(l+1)+": Unexpected "+(w==u?"end of input":"'"+(this.terminals_[w]||w)+"'"),this.parseError(P,{text:d.match,token:this.terminals_[w]||w,line:d.yylineno,loc:g,expected:O})}if(_[0]instanceof Array&&_.length>1)throw new Error("Parse Error: multiple actions possible at state: "+b+", token: "+w);switch(_[0]){case 1:i.push(w),n.push(d.yytext),r.push(d.yylloc),i.push(_[1]),w=null,v?(w=v,v=null):(a=d.yyleng,o=d.yytext,l=d.yylineno,g=d.yylloc,h>0&&h--);break;case 2:if(k=this.productions_[_[1]][1],x.$=n[n.length-k],x._$={first_line:r[r.length-(k||1)].first_line,last_line:r[r.length-1].last_line,first_column:r[r.length-(k||1)].first_column,last_column:r[r.length-1].last_column},y&&(x._$.range=[r[r.length-(k||1)].range[0],r[r.length-1].range[1]]),j=this.performAction.apply(x,[o,a,l,f.yy,_[1],n,r].concat(m)),"undefined"!==typeof j)return j;k&&(i=i.slice(0,-1*k*2),n=n.slice(0,-1*k),r=r.slice(0,-1*k)),i.push(this.productions_[_[1]][0]),n.push(x.$),r.push(x._$),F=s[i[i.length-2]][i[i.length-1]],i.push(F);break;case 3:return!0}}return!0}},d=function(){var t={EOF:1,parseError:function(t,e){if(!this.yy.parser)throw new Error(t);this.yy.parser.parseError(t,e)},setInput:function(t,e){return this.yy=e||this.yy||{},this._input=t,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var t=this._input[0];this.yytext+=t,this.yyleng++,this.offset++,this.match+=t,this.matched+=t;var e=t.match(/(?:\r\n?|\n).*/g);return e?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),t},unput:function(t){var e=t.length,i=t.split(/(?:\r\n?|\n)/g);this._input=t+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-e),this.offset-=e;var n=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),i.length-1&&(this.yylineno-=i.length-1);var r=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:i?(i.length===n.length?this.yylloc.first_column:0)+n[n.length-i.length].length-i[0].length:this.yylloc.first_column-e},this.options.ranges&&(this.yylloc.range=[r[0],r[0]+this.yyleng-e]),this.yyleng=this.yytext.length,this},more:function(){return this._more=!0,this},reject:function(){return this.options.backtrack_lexer?(this._backtrack=!0,this):this.parseError("Lexical error on line "+(this.yylineno+1)+". You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},less:function(t){this.unput(this.match.slice(t))},pastInput:function(){var t=this.matched.substr(0,this.matched.length-this.match.length);return(t.length>20?"...":"")+t.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var t=this.match;return t.length<20&&(t+=this._input.substr(0,20-t.length)),(t.substr(0,20)+(t.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var t=this.pastInput(),e=new Array(t.length+1).join("-");return t+this.upcomingInput()+"\n"+e+"^"},test_match:function(t,e){var i,n,r;if(this.options.backtrack_lexer&&(r={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(r.yylloc.range=this.yylloc.range.slice(0))),n=t[0].match(/(?:\r\n?|\n).*/g),n&&(this.yylineno+=n.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:n?n[n.length-1].length-n[n.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+t[0].length},this.yytext+=t[0],this.match+=t[0],this.matches=t,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(t[0].length),this.matched+=t[0],i=this.performAction.call(this,this.yy,this,e,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),i)return i;if(this._backtrack){for(var s in r)this[s]=r[s];return!1}return!1},next:function(){if(this.done)return this.EOF;var t,e,i,n;this._input||(this.done=!0),this._more||(this.yytext="",this.match="");for(var r=this._currentRules(),s=0;s<r.length;s++)if(i=this._input.match(this.rules[r[s]]),i&&(!e||i[0].length>e[0].length)){if(e=i,n=s,this.options.backtrack_lexer){if(t=this.test_match(i,r[s]),!1!==t)return t;if(this._backtrack){e=!1;continue}return!1}if(!this.options.flex)break}return e?(t=this.test_match(e,r[n]),!1!==t&&t):""===this._input?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+". Unrecognized text.\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var t=this.next();return t||this.lex()},begin:function(t){this.conditionStack.push(t)},popState:function(){var t=this.conditionStack.length-1;return t>0?this.conditionStack.pop():this.conditionStack[0]},_currentRules:function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions["INITIAL"].rules},topState:function(t){return t=this.conditionStack.length-1-Math.abs(t||0),t>=0?this.conditionStack[t]:"INITIAL"},pushState:function(t){this.begin(t)},stateStackSize:function(){return this.conditionStack.length},options:{},performAction:function(t,e,i,n){switch(i){case 0:break;case 1:return 5;case 2:return 6;case 3:return"num";case 4:return",";case 5:return 13;case 6:return 14;case 7:return e.yytext="→";case 8:return e.yytext="↔";case 9:return e.yytext="∧";case 10:return e.yytext="∨";case 11:return e.yytext="﹁";case 12:return 4}},rules:[/^(?:\s+)/,/^(?:[tT][rR][uU][eE])/,/^(?:[fF][aA][lL][sS][eE])/,/^(?:[0-9]+(\.[0-9]+)?)/,/^(?:,|，)/,/^(?:\(|（)/,/^(?:\)|）)/,/^(?:(-|=|>)+?>|→)/,/^(?:iff|<(-|=)?>|↔)/,/^(?:([aA][nN][dD])|(&+)|∧|∧)/,/^(?:([oO][rR])|(\|+)|∨)/,/^(?:([nN][oO][tT])|!|！|﹁|¬)/,/^(?:(\w|[\u4e00-\u9fa5]|;|；)+)/],conditions:{INITIAL:{rules:[0,1,2,3,4,5,6,7,8,9,10,11,12],inclusive:!0}}};return t}();function f(){this.yy={}}return m.lexer=d,f.prototype=m,m.Parser=f,new f}();let A={};A.parser=O,A.Parser=O.Parser,A.parse=function(){return O.parse.apply(O,arguments)};var x=A;class P extends Map{getIntValue(t){let e=0,i=t.length;return this.forEach(((n,r)=>{n&&(e+=2**(i-1-t.getIndexOf(r)))})),e}}class E{constructor(t){this.atomicPropositionOrder=t}createAssignmentFromIntValue(t){let e=t.toString(2).split("").map((t=>{switch(t){case"0":return!1;case"1":return!0;default:throw"getAssignmentByIntValue value error"}})),i=this.atomicPropositionOrder.length;while(e.length<i)e.unshift(!1);let n=new P;for(let r=0;r<i;r++)n.set(this.atomicPropositionOrder.getValueOf(r),e[r]);return n}}class I{constructor(t){if(0===t.length||void 0===t.length)throw"CoveragesChooser init error";this.coverages=t,this.current=-1,this.total=1,this.lengths=t.map((t=>t.length)),this.lengths.forEach((t=>{this.total*=t})),this.choose=[];for(let e=0;e<this.lengths.length;e++)this.choose[e]=0}hasNext(){return this.current<this.total}next(){this.current++;let t=this.choose;for(let i=t.length-1;i>0;i--){if(t[i]+1!==this.lengths[i]){t[i]+=1;break}t[i]=0}let e=new T;return this.coverages.forEach(((t,i)=>{e.push(t.mintermArray[this.choose[i]])})),e}}class C{constructor(t){if(void 0!==t){if(null!==t.match(/[^10*-]/))throw"invalid minterm";this.value=t.toString()}}equals(t){return this.value===t.value}isFALSE(){return this.value==="-".repeat(this.value.length)}conjunct(t){if(void 0===this.value||void 0===t.value)throw"not initialized";if(this.value.length!==t.value.length)throw"invalid conjunct";if(this.isFALSE())return this;if(t.isFALSE())return t;if(this.equals(t))return this;let e=this.value.length,i="";for(let r=0;r<e;r++){let e=this.value[r],n=t.value[r];if(e===n)i+=e;else if("*"===e)i+=n;else{if("*"!==n)return new C("-".repeat(this.value.length));i+=e}}let n=new C;return n.value=i,n}starCount(){let t=this.value.length,e=0;for(let i=0;i<t;i++)"*"===this.value[i]&&e++;return e}combineSub(t){if(this.isFALSE())return this;if(t.isFALSE())return t;let e=!0,i=this.value.length,n="";for(let s=0;s<i;s++){let i=this.value[s],r=t.value[s];if(i===r)n+=i;else if("*"===i)n+=r;else if("*"===r)n+=i;else{if(!e)return null;n+="*",e=!1}}if(e)return null;let r=new C;return r.value=n,r}cost(t=!1){let e=-1;for(let i=0;i<this.value.length;i++)switch(this.value[i]){case"0":e+=t?1:2;break;case"1":e+=t?2:1;break;default:}return e}negate(){let t=this.value.length;if(this.isFALSE())return new C("*".repeat(t));if(this.value==="-".repeat(t))return new C("-".repeat(t));let e=new T;for(let i=0;i<t;i++)switch(this.value[i]){case"*":break;case"0":{let t=this.value.split("");t[i]="1";let n=t.join("");e.push(new C(n));break}case"1":{let t=this.value.split("");t[i]="0";let n=t.join("");e.push(new C(n));break}}return e}}class T{constructor(){(0,p.Z)(this,"mintermValueSet",new Set),(0,p.Z)(this,"mintermArray",[])}get length(){return this.mintermArray.length}push(t){return this.mintermValueSet.add(t.value),this.mintermValueSet.size>this.mintermArray.length&&(this.mintermArray.push(t),!0)}disjunct(t){if(0===this.length||0===t.length)throw"coverage disjunct param error!";let e=new T;return this.mintermArray.forEach((t=>e.push(t))),t.mintermArray.forEach((t=>e.push(t))),e}conjunct(t){if(0===this.length||0===t.length)throw"coverage conjunct param error!";let e=new T;return this.mintermArray.forEach((i=>{t.mintermArray.forEach((t=>{e.push(i.conjunct(t))}))})),e}delete(t){if(this.mintermValueSet.delete(t.value),this.mintermValueSet.size<this.mintermArray.length){let e=this.mintermArray.findIndex((e=>t.value===e.value));this.mintermArray.splice(e,1)}}deleteAll(t){t.mintermArray.forEach((t=>this.delete(t)))}fullLargestCoverage(){if(0===this.length)return this;let t=new T,e=[],i=this.length;for(let s=0;s<i;s++)t.push(this.mintermArray[s]),e.push(1+s);let n=new T,r=0;do{let s=t.mintermArray[r];for(let o=e[r];o<i;o++){let i=t.mintermArray[o],l=s.combineSub(i);null!==l&&(l.conjunct(s).equals(s)&&n.push(s),l.conjunct(i).equals(i)&&n.push(i),t.push(l)&&(e[r]++,e.push(t.length))),e[r]++}i=t.length}while(-1!==(r=e.findIndex((t=>t<i))));return t.deleteAll(n),t}isIntersectedWith(t){for(let e=0;e<this.mintermArray.length;e++)for(let i=0;i<t.mintermArray.length;i++)if(this.mintermArray[e].equals(t.mintermArray[i]))return!0;return!1}cost(t=!1){let e=this.length-1;return this.mintermArray.forEach((i=>{e+=i.cost(t)})),e}simplify(t=!1){let e=this.fullLargestCoverage(),i=new D(e);return e.deleteAll(i.getLargestMultiOccupiedCoverage()),i.deleteAllEntriesWhichValuesIntersectedWith(e),0===i.size?e:0===e.length?i.minimalCoverage(t):e.disjunct(i.minimalCoverage(t))}}class D extends Map{constructor(t){if(super(),!(t instanceof T)||0===t.length||void 0===t.length)throw"ConjunctPairwise init error";this.mintermLength=t.mintermArray[0].value.length,this.coverageMultiOccupied=new T;let e=t.mintermArray;for(let i=0;i<e.length;i++){let t=e[i];for(let n=i+1;n<e.length;n++){let i=e[n],r=t.conjunct(i),s=r.value;this.coverageMultiOccupied.push(r),void 0===this.get(s)&&this.set(s,new T);let o=this.get(s);o.push(t),o.push(i)}}}getLargestMultiOccupiedCoverage(){return this.coverageMultiOccupied.fullLargestCoverage()}delete(t){super.delete(t.value),this.coverageMultiOccupied.delete(t)}deleteAllEntriesWhichValuesIntersectedWith(t){let e=new Set;this.forEach(((i,n)=>{i.isIntersectedWith(t)&&e.add(n)})),e.forEach((t=>{this.delete(new C(t))})),this.delete(new C("-".repeat(this.mintermLength)))}minimalCoverage(t=!1){let e=[];this.forEach((t=>{e.push(t)}));let i,n=Number.MAX_SAFE_INTEGER,r=new I(e);if(!(r.total<4096))throw"算力不足！";while(r.hasNext()){let e=r.next(),s=e.cost(t);s<n&&(n=s,i=e)}return i}}class M{constructor(t){void 0!==t&&(this.mintermCreator=t)}createFromAssignments(t){let e=new T;return t.forEach((t=>{e.push(this.mintermCreator.createFromAssignment(t))})),e}createFromSimpleDisjunction(t){let e=new T;switch(t.constructor){case w:case v:case b:case _:case j:return e.push(this.mintermCreator.createFromSimpleConjunction(t)),e;case S:return t.disjuncts.forEach((t=>{e.push(this.mintermCreator.createFromSimpleConjunction(t))})),e;default:throw"coverage create type error"}}}class ${constructor(t){this.atomicPropositionOrder=t}createFromAssignment(t){let e=this.atomicPropositionOrder.length,i="";for(let n=0;n<e;n++){let e=t.get(this.atomicPropositionOrder.getValueOf(n));if(void 0===e)throw"create minterm form assignment error";i+=e?"1":"0"}return new C(i)}createFromSimpleConjunction(t){switch(t.constructor){case w:return new C("*".repeat(this.atomicPropositionOrder.length));case v:return new C("-".repeat(this.atomicPropositionOrder.length));case b:{let e=this.atomicPropositionOrder.getIndexOf(t.name),i="";for(let t=0;t<this.atomicPropositionOrder.length;t++)i+=t===e?"1":"*";return new C(i)}case _:{if(!(t.item instanceof b))throw"minterm create type error";let e=this.atomicPropositionOrder.getIndexOf(t.item.name),i="";for(let t=0;t<this.atomicPropositionOrder.length;t++)i+=t===e?"0":"*";return new C(i)}case j:let e="*".repeat(this.atomicPropositionOrder.length).split("");return t.conjuncts.forEach((t=>{if(t instanceof b)e[this.atomicPropositionOrder.getIndexOf(t.name)]="1";else{if(!(t instanceof _&&t.item instanceof b))throw"minterm create error";e[this.atomicPropositionOrder.getIndexOf(t.item.name)]="0"}})),new C(e.join(""))}}}class L{constructor(t){this.mintermWellFormedConvertor=t}convertCoverageToDisjunction(t){if(0===t.length)throw"convertCoverageToDisjunction error";if(1===t.length)return this.mintermWellFormedConvertor.convertMintermToConjunction(t.mintermArray[0]);let e=[];return t.mintermArray.forEach((t=>{e.push(this.mintermWellFormedConvertor.convertMintermToConjunction(t))})),new S(...e)}}class V{constructor(t){if(0===t.length)throw"Minterm convert to wellformed error!";this.atomicPropositionOrder=t}convertMintermToConjunction(t){let e=t.value;if(e==="-".repeat(e.length))return new v;if(e==="*".repeat(e.length))return new w;let i=[];for(let n=0;n<e.length;n++)switch(e[n]){case"0":i.push(new _(new b(this.atomicPropositionOrder.getValueOf(n))));break;case"1":i.push(new b(this.atomicPropositionOrder.getValueOf(n)));break;case"*":break;default:throw"unknow char"}return 1===i.length?i[0]:new j(...i)}}class Z{constructor(t){this.wellFormed=t;let e=t.atomicPropositionOrder;if(this.atomicPropositionCount=e.length,0===e.length)return this;this.coverageCreator=new M(new $(e)),this.coverageWellFormedConvertor=new L(new V(e))}get trueTable(){return void 0===this._trueTable&&(this._trueTable=new N(this.wellFormed)),this._trueTable}simplifyDisjunctiveTrueTableMethod(){if(this.wellFormed instanceof w)throw"getSimplifiedCoverageTrueTableMethod meet true error!";if(this.wellFormed instanceof v)throw"getSimplifiedCoverageTrueTableMethod meet false error!";let t=this.trueTable.getAssignmentsMakeWellFormedTrue();if(0===t.size)return new v;let e=this.coverageCreator.createFromAssignments(t);return e=e.simplify(),this.coverageWellFormedConvertor.convertCoverageToDisjunction(e)}simplifyDisjunctive(){if(0===this.atomicPropositionCount)return this.wellFormed.boolFunction()?new w:new v;if(this.atomicPropositionCount<8)return this.simplifyDisjunctiveTrueTableMethod();switch(this.wellFormed.constructor){case _:return new Z(this.wellFormed.inward()).simplifyDisjunctive();case k:return new Z(this.wellFormed.toDisjunction()).simplifyDisjunctive();case F:return new Z(this.wellFormed.toConjunction()).simplifyDisjunctive();case j:{let t,e,i=this.wellFormed.conjuncts,n=i.length,r=Math.floor(n/2);if(n<=3){let e=i[0];t=new Z(e).simplifyDisjunctive()}else{let e=new j(...i.slice(0,r));t=new Z(e).simplifyDisjunctive()}if(2===n){let t=i[1];e=new Z(t).simplifyDisjunctive()}else{let t=new j(...i.slice(r,n));e=new Z(t).simplifyDisjunctive()}let s=this.coverageCreator.createFromSimpleDisjunction(t).conjunct(this.coverageCreator.createFromSimpleDisjunction(e));return this.coverageWellFormedConvertor.convertCoverageToDisjunction(s.simplify())}case S:{let t,e,i=this.wellFormed.disjuncts,n=i.length,r=Math.floor(n/2);t=n<=3?new Z(i[0]).simplifyDisjunctive():new Z(new S(...i.slice(0,r))).simplifyDisjunctive(),e=2===n?new Z(i[1]).simplifyDisjunctive():new Z(new S(...i.slice(r,n))).simplifyDisjunctive();let s=this.coverageCreator.createFromSimpleDisjunction(t),o=this.coverageCreator.createFromSimpleDisjunction(e),l=s.disjunct(o);return this.coverageWellFormedConvertor.convertCoverageToDisjunction(l.simplify())}default:throw"type error"}}simplifyConjunctive(){let t=this.wellFormed.inverse(),e=new Z(t).simplifyDisjunctive();return e.inverse()}}class W{constructor(){(0,p.Z)(this,"wellFormed",void 0),(0,p.Z)(this,"head",void 0),(0,p.Z)(this,"body",void 0)}}class N extends W{constructor(t){super(),this.wellFormed=t;let e=t.atomicPropositionOrder;this.head=[],this.head.push(...e.stringArray),this.head.push(t.toString()),this.trueValues=[],this.body=[],this.assignmentCreator=new E(e);let i=e.length;if(0===i)return this.body.push(this.wellFormed.boolFunction()?"1":"0"),this;let n=2**i;for(let r=0;r<n;r++){let e=this.assignmentCreator.createAssignmentFromIntValue(r),n=t.boolFunction(e);this.trueValues[r]=n;let s=r.toString(2).split("");while(s.length<i)s.unshift("0");s.push(n?"1":"0"),this.body.push(s)}}getAssignmentsMakeWellFormedTrue(){let t=new Set;return this.trueValues.forEach(((e,i)=>{e&&t.add(this.assignmentCreator.createAssignmentFromIntValue(i))})),t}}class U extends W{constructor(t){super(),this.wellFormed=t;let e=this.wellFormed.atomicPropositionOrder;this.head=e.stringArray.map((t=>t)),this.head.push(this.wellFormed.toString()),this.wellFormedSimplifier=new Z(t),this.body=[];let i=this.wellFormed.atomicPropositionOrder.length;try{let t=this.wellFormedSimplifier.simplifyDisjunctive();if(t instanceof w)return this.body.push(["1"]),this;if(t instanceof v)return this.body.push(["0"]),this;t instanceof S||(t.disjuncts=[t]),t.disjuncts.forEach((t=>{let n="*".repeat(i).split("");switch(t.constructor){case b:n[e.getIndexOf(t.name)]="1";break;case _:n[e.getIndexOf(t.item.name)]="0";break;case j:t.conjuncts.forEach((t=>{switch(t.constructor){case b:n[e.getIndexOf(t.name)]="1";break;case _:n[e.getIndexOf(t.item.name)]="0";break;default:throw"simplified true table error"}}));break;default:throw"simplified true table error"}n.push("1"),this.body.push(n)}))}catch(n){}try{let t=this.wellFormedSimplifier.simplifyConjunctive();if(t instanceof w)return this.body.push(["1"]),this;if(t instanceof v)return this.body.push(["0"]),this;t instanceof j||(t.constructs=[t]),t.conjuncts.forEach((t=>{let n="*".repeat(i).split("");switch(t.constructor){case b:n[e.getIndexOf(t.name)]="0";break;case _:n[e.getIndexOf(t.item.name)]="1";break;case S:t.disjuncts.forEach((t=>{switch(t.constructor){case b:n[e.getIndexOf(t.name)]="0";break;case _:n[e.getIndexOf(t.item.name)]="1";break;default:throw"simplified true table error"}}));break;default:throw"simplified true table error"}n.push("0"),this.body.push(n)}))}catch(n){}}}console.log(new U(x.parse("a and b")));class q{constructor(t){this.wellFormed=x.parse(t),this.simplifier=new Z(this.wellFormed),this.simplifiedTrueTable=new U(this.wellFormed)}get trueTable(){return void 0===this._trueTable&&(this._trueTable=new N(this.wellFormed)),this._trueTable}formulaString(){return this.wellFormed.toString()}simplifiedDisjunctionString(){try{return this.simplifier.simplifyDisjunctive().toString()}catch(t){return"算力不足无法计算！"}}simplifiedConjunctionString(){try{return this.simplifier.simplifyConjunctive().toString()}catch(t){return"算力不足无法计算！"}}trueTableShowAble(){return this.wellFormed.atomicPropositionOrder.length<6}}var z={name:"LogicTool",data(){return{input:"a and b",wellFormedUtil:new q("a and b")}},methods:{submitFormula(){this.wellFormedUtil=null,this.wellFormedUtil=new q(this.input)}}},R=z,B=(0,h.Z)(R,d,f,!1,null,null,null),G=B.exports;n.Z.use(m.Z);const X=[{path:"/",name:"logicTool",component:G},{path:"/about",name:"about",component:()=>i.e(443).then(i.bind(i,8758))}],Y=new m.Z({routes:X});var H=Y,J=i(4665);n.Z.use(J.ZP);var K=new J.ZP.Store({state:{},getters:{},mutations:{},actions:{},modules:{}});n.Z.config.productionTip=!1,new n.Z({router:H,store:K,render:t=>t(u)}).$mount("#app")}},e={};function i(n){var r=e[n];if(void 0!==r)return r.exports;var s=e[n]={exports:{}};return t[n](s,s.exports,i),s.exports}i.m=t,function(){var t=[];i.O=function(e,n,r,s){if(!n){var o=1/0;for(c=0;c<t.length;c++){n=t[c][0],r=t[c][1],s=t[c][2];for(var l=!0,a=0;a<n.length;a++)(!1&s||o>=s)&&Object.keys(i.O).every((function(t){return i.O[t](n[a])}))?n.splice(a--,1):(l=!1,s<o&&(o=s));if(l){t.splice(c--,1);var h=r();void 0!==h&&(e=h)}}return e}s=s||0;for(var c=t.length;c>0&&t[c-1][2]>s;c--)t[c]=t[c-1];t[c]=[n,r,s]}}(),function(){i.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return i.d(e,{a:e}),e}}(),function(){i.d=function(t,e){for(var n in e)i.o(e,n)&&!i.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})}}(),function(){i.f={},i.e=function(t){return Promise.all(Object.keys(i.f).reduce((function(e,n){return i.f[n](t,e),e}),[]))}}(),function(){i.u=function(t){return"js/about.f20268a9.js"}}(),function(){i.miniCssF=function(t){}}(),function(){i.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){var t={},e="logic-workstation:";i.l=function(n,r,s,o){if(t[n])t[n].push(r);else{var l,a;if(void 0!==s)for(var h=document.getElementsByTagName("script"),c=0;c<h.length;c++){var u=h[c];if(u.getAttribute("src")==n||u.getAttribute("data-webpack")==e+s){l=u;break}}l||(a=!0,l=document.createElement("script"),l.charset="utf-8",l.timeout=120,i.nc&&l.setAttribute("nonce",i.nc),l.setAttribute("data-webpack",e+s),l.src=n),t[n]=[r];var m=function(e,i){l.onerror=l.onload=null,clearTimeout(d);var r=t[n];if(delete t[n],l.parentNode&&l.parentNode.removeChild(l),r&&r.forEach((function(t){return t(i)})),e)return e(i)},d=setTimeout(m.bind(null,void 0,{type:"timeout",target:l}),12e4);l.onerror=m.bind(null,l.onerror),l.onload=m.bind(null,l.onload),a&&document.head.appendChild(l)}}}(),function(){i.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}}(),function(){i.p=""}(),function(){var t={143:0};i.f.j=function(e,n){var r=i.o(t,e)?t[e]:void 0;if(0!==r)if(r)n.push(r[2]);else{var s=new Promise((function(i,n){r=t[e]=[i,n]}));n.push(r[2]=s);var o=i.p+i.u(e),l=new Error,a=function(n){if(i.o(t,e)&&(r=t[e],0!==r&&(t[e]=void 0),r)){var s=n&&("load"===n.type?"missing":n.type),o=n&&n.target&&n.target.src;l.message="Loading chunk "+e+" failed.\n("+s+": "+o+")",l.name="ChunkLoadError",l.type=s,l.request=o,r[1](l)}};i.l(o,a,"chunk-"+e,e)}},i.O.j=function(e){return 0===t[e]};var e=function(e,n){var r,s,o=n[0],l=n[1],a=n[2],h=0;if(o.some((function(e){return 0!==t[e]}))){for(r in l)i.o(l,r)&&(i.m[r]=l[r]);if(a)var c=a(i)}for(e&&e(n);h<o.length;h++)s=o[h],i.o(t,s)&&t[s]&&t[s][0](),t[s]=0;return i.O(c)},n=self["webpackChunklogic_workstation"]=self["webpackChunklogic_workstation"]||[];n.forEach(e.bind(null,0)),n.push=e.bind(null,n.push.bind(n))}();var n=i.O(void 0,[998],(function(){return i(1926)}));n=i.O(n)})();
//# sourceMappingURL=app.c70da257.js.map